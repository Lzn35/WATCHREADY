<div class="header">
	<div class="header-left">
		<div class="menu-icon bi bi-list"></div>
	</div>
	<div class="header-right">
		<div class="user-notification">
			<div class="dropdown">
				<a
					class="dropdown-toggle no-arrow"
					href="#"
					role="button"
					data-toggle="dropdown"
					style="position: relative;"
				>
					<i class="icon-copy dw dw-notification"></i>
					<span id="notificationBadge" class="badge badge-pill badge-danger" style="position: absolute; top: -5px; right: -10px; font-size: 10px; min-width: 18px; height: 18px; padding: 3px 6px; display: none;">0</span>
				</a>
				<div class="dropdown-menu dropdown-menu-right" style="width: 350px; max-width: 90vw;">
					<div class="d-flex justify-content-between align-items-center px-3 py-2 border-bottom" style="background-color: #f8f9fa;">
						<h6 class="mb-0 font-weight-bold">Notifications</h6>
						<button class="btn btn-sm btn-outline-danger" onclick="markAllNotificationsRead()" id="markAllReadBtn" style="display: none; font-size: 11px; padding: 2px 8px;">
							Mark All Read
						</button>
					</div>
					<div class="notification-list customscroll" style="max-height: 400px; overflow-y: auto;">
						<div id="notificationsContainer">
							<div class="text-center py-4" id="noNotificationsMessage">
								<i class="bi bi-bell-slash" style="font-size: 32px; color: #adb5bd;"></i>
								<p class="text-muted mt-2 mb-0" style="font-size: 14px;">No notifications</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="user-info-dropdown">
			<div class="dropdown">
				<a
					class="dropdown-toggle"
					href="#"
					role="button"
					data-toggle="dropdown"
				>
					<span class="user-icon">
						{% if current_user and current_user.profile_picture %}
							<img src="{{ url_for('static', filename='uploads/profiles/' + current_user.profile_picture) }}" alt="Profile Picture" />
						{% else %}
							<div class="user-avatar-default">
								{{ (current_user.full_name or current_user.username)[0].upper() if current_user and (current_user.full_name or current_user.username) else 'U' }}
							</div>
						{% endif %}
					</span>
					<span class="user-name">{{ current_user.full_name or current_user.username if current_user else 'User' }}</span>
				</a>
				<div
					class="dropdown-menu dropdown-menu-right dropdown-menu-icon-list"
				>
					<a class="dropdown-item" href="{{ url_for('core.profile') }}"
						><i class="dw dw-user1"></i> Profile</a
					>
					<a class="dropdown-item" href="{{ url_for('auth.logout') }}"
						><i class="dw dw-logout"></i> Log Out</a
					>
				</div>
			</div>
		</div>
	</div>
</div>
